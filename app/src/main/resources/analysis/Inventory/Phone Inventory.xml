<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<opgraph xmlns="https://www.phon.ca/ns/opgraph" xmlns:nes="https://www.phon.ca/ns/node_editor" xmlns:oga="https://www.phon.ca/ns/opgraph-app" xmlns:ogcn="https://www.phon.ca/ns/opgraph-common-nodes" xmlns:opqry="https://phon.ca/ns/opgraph_query" xmlns:qry="http://phon.ling.mun.ca/ns/query">
    <graph id="root">
        <node id="fb2027c" name="Project" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
            <extensions>
                <oga:settings>
                    <oga:property key="contextKey"><![CDATA[_project]]></oga:property>
                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.project.Project]]></oga:property>
                </oga:settings>
                <oga:meta x="23" y="12"/>
            </extensions>
        </node>
        <node id="39d161f1" name="Selected Sessions" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
            <extensions>
                <oga:settings>
                    <oga:property key="contextKey"><![CDATA[_selectedSessions]]></oga:property>
                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.ArrayList]]></oga:property>
                </oga:settings>
                <oga:meta x="25" y="291"/>
            </extensions>
        </node>
        <node id="6df4d2f7" name="Parameters" type="class:ca.phon.app.opgraph.nodes.PhonScriptNode">
            <extensions>
                <oga:settings>
                    <oga:property key="filters.searchBy.searchBy"><![CDATA[Word]]></oga:property>
                    <oga:property key="filters.primary.filter"><![CDATA[\w]]></oga:property>
                    <oga:property key="filters.wordTiers.tiers"><![CDATA[Orthography,IPA Target,IPA Actual]]></oga:property>
                    <oga:property key="processSelection"><![CDATA[All Phones]]></oga:property>
                    <oga:property key="__script"><![CDATA[var TierList = require("lib/TierList").TierList;
var GroupFilter = require("lib/GroupFilter").GroupFilter;
var AlignedGroupFilter = require("lib/TierFilter").TierFilter;
var WordFilter = require("lib/WordFilter").WordFilter;
var AlignedWordFilter = require("lib/TierFilter").TierFilter;
var SyllableFilter = require("lib/SyllableFilter").SyllableFilter;
var PatternFilter = require("lib/PatternFilter").PatternFilter;
var PatternType = require("lib/PatternFilter").PatternType;
var StressPatternOptions = require("lib/StressPattern").StressPatternOptions;
var CvPatternOptions = require("lib/CvPattern").CvPatternOptions;
var ResultType = require("lib/PhonScriptConstants").ResultType;
var ParticipantFilter = require("lib/ParticipantFilter").ParticipantFilter;
var SearchByOptions = require("lib/SearchByOptions").SearchByOptions;

/********************************
 * Setup params
 ******************************/

 var processes = [
    {
        "name": "All Phones",
        "params": [
            {
                "object": "filters.primary",
                "function": "setPattern",
                "value": "\"\\\\w\""
            },
            {
                "object": "filters.primary",
                "function": "setEnabled",
                "value": false
            }
        ]
    },
    {
        "name": "Consonants",
        "params": [
            {
                "object": "filters.primary",
                "function": "setPattern",
                "value": "\"\\\\c\""
            },
            {
                "object": "filters.primary",
                "function": "setEnabled",
                "value": false
            }
        ]
    },
    {
        "name": "Vowels",
        "params": [
            {
                "object": "filters.primary",
                "function": "setPattern",
                "value": "\"\\\\v\""
            },
            {
                "object": "filters.primary",
                "function": "setEnabled",
                "value": false
            }
        ],
        
    },
    {
	   "name": "Custom",
        "params": [
            {
                "object": "filters.primary",
                "function": "setEnabled",
                "value": true
            }
        ]
    }
];

var processSelectionParamInfo = {
    "id": "processSelection",
    "title": "Type",
    "def": 0,
};
var processSelectionParam;

/********************************
 * Setup params
 *******************************/

var filters = {
	"primary": new PatternFilter("filters.primary"),
	"searchBy": new SearchByOptions("filters.searchBy"),
	"group": new GroupFilter("filters.group"),
	"groupPattern": new PatternFilter("filters.groupPattern"),
	"groupTiers": new TierList("filters.groupTiers"),
	"alignedGroup": new AlignedGroupFilter("filters.alignedGroup"),
	"word": new WordFilter("filters.word"),
	"wordPattern": new PatternFilter("filters.wordPattern"),
	"wordTiers": new TierList("filters.wordTiers"),
	"alignedWord": new AlignedWordFilter("filters.alignedWord"),
	"syllable": new SyllableFilter("filters.syllable"),
	"speaker": new ParticipantFilter("filters.speaker")
};

var reportTitleParamInfo = {
	"id": "reportTitle",
	"title": "Report Title",
	"def": "Phone Inventory",
	"prompt": "Enter report title"
};
var reportTitleParam;
var reportTitle = reportTitleParamInfo.def;

var combineParticipantsParamInfo = {
	"id": "combineParticipants",
	"title": "Combine results",
	"desc": "Combine results for all selected participants",
	"def": false
};
var combineParticipantsParam;
var combineParticipants = combineParticipantsParamInfo.def;

function setup_params(params) {
	reportTitleParam = new StringScriptParam(
			reportTitleParamInfo.id,
			reportTitleParamInfo.title,
			reportTitleParamInfo.def);
     reportTitleParam.setPrompt(reportTitleParamInfo.prompt);
	params.add(reportTitleParam);

	combineParticipantsParam = new BooleanScriptParam(
		combineParticipantsParamInfo.id,
		combineParticipantsParamInfo.desc,
		combineParticipantsParamInfo.title,
		combineParticipantsParamInfo.def);
	params.add(combineParticipantsParam);

	var optionsSep = new SeparatorScriptParam("Options", false);
	params.add(optionsSep);

	var insertIdx = 3;

	processSelectionParam = createTypeSelection();
	params.add(processSelectionParam);

	filters.primary.setSelectedPatternType(PatternType.PHONEX);
	filters.primary.param_setup(params);
	filters.primary.set_required(true);
	filters.primary.setEnabled(false);

	filters.group.param_setup(params);
	filters.groupPattern.param_setup(params);
	var sep = new LabelScriptParam("", "<html><b>Aligned Group</b></html>");
	params.add(sep);
	filters.alignedGroup.param_setup(params);

	filters.word.param_setup(params);
	filters.wordPattern.param_setup(params);
	filters.wordPattern.setEnabled(false);
	var wordsep = new LabelScriptParam("", "<html><b>Aligned Word</b></html>");
	params.add(wordsep);
	filters.alignedWord.param_setup(params);
	var searchByWordListener = new java.beans.PropertyChangeListener {
		propertyChange: function (e) {
			var enabled = e.source.getValue(e.source.paramId);
			filters.wordPattern.setEnabled(enabled);
			filters.alignedWord.setEnabled(enabled);
			filters.wordTiers.setEnabled(enabled);
		}
	};
	filters.word.searchByWordOpt.addPropertyChangeListener(filters.word.searchByWordOpt.paramId, searchByWordListener);
	var enabled = filters.word.searchByWordOpt.getValue(filters.word.searchByWordOpt.paramId);
	filters.wordPattern.setEnabled(enabled);
	filters.alignedWord.setEnabled(enabled);
	
	filters.syllable.param_setup(params);

	filters.searchBy.includeSyllableOption = true;
	filters.searchBy.param_setup(params, filters.word.searchByWordParam, filters.syllable.searchBySyllableParam, insertIdx);

	var otherDataHeader = new SeparatorScriptParam("otherDataHeader", "Additional Tier Data", true);
	params.add(otherDataHeader);
	var sep = new LabelScriptParam("", "<html><b>Add aligned groups</b></html>");
	params.add(sep);
	filters.groupTiers.param_setup(params);
	var wordsep = new LabelScriptParam("", "<html><b>Add aligned words</b></html>");
	params.add(wordsep);
	filters.wordTiers.param_setup(params);
	filters.wordTiers.setEnabled(enabled);

	filters.speaker.param_setup(params);
}

function createTypeSelection() {
    // get a list of all process names
    var processNames = [];
    for(i = 0; i < processes.length; i++) {
        name = processes[i]["name"];
        processNames.push(name);
    }

    var retVal = new EnumScriptParam(
        processSelectionParamInfo.id,
        processSelectionParamInfo.title,
        processSelectionParamInfo.def,
        processNames);

     var processSelectionListener = new java.beans.PropertyChangeListener() {
            propertyChange: function(e) {
                var selectedIdx = processSelectionParam.getValue(processSelectionParamInfo.id).index;
                if(selectedIdx >= 0) {
                    var process = processes[selectedIdx];

                    reportTitleParam.setValue(reportTitleParamInfo.id, "Phone Inventory" + (selectedIdx > 0 ? " - " + process["name"] : ""));

                    var params = process["params"];
                    for(i = 0; i < params.length; i++) {
                        var param = params[i];
                        var setParam = param["object"] + "." + param["function"] + "(" + param["value"] + ");";
                        eval(setParam);
                    }

                }
            }
     };
     retVal.addPropertyChangeListener(processSelectionListener);

    return retVal;
}

function run(context) {

}
]]></oga:property>
                </oga:settings>
                <oga:meta x="27" y="489"/>
            </extensions>
        </node>
        <opqry:queryNode id="7d68545c" name="Query : Phones (IPA Target)" type="ca.phon.app.opgraph.nodes.query.QueryNode">
            <qry:query xmlns="http://phon.ling.mun.ca/ns/query" date="2021-04-19T08:32:45.255-02:30" name="Phones" uuid="e96eab9a-98e7-4314-86c3-b96f1d897a73">
                <script>
                    <url ref="Phones" rel="stock"/>
                    <param id="filters.alignedGroup.patternFilter.filterType">Plain text</param>
                    <param id="filters.alignedWord.patternFilter.filterType">Plain text</param>
                    <param id="filters.groupPattern.filterType">Plain text</param>
                    <param id="filters.primary.filter">\w</param>
                    <param id="filters.primary.filterType">Phonex</param>
                    <param id="filters.searchBy.includePositionalInfo">true</param>
                    <param id="filters.searchBy.searchBy">Word</param>
                    <param id="filters.speaker.age1Comparator">equal to</param>
                    <param id="filters.speaker.age2Comparator">equal to</param>
                    <param id="filters.speaker.ageOperator">(select operator)</param>
                    <param id="filters.speaker.participantRole">(select role)</param>
                    <param id="filters.syllable.otherSyllTypePattern.filterType">Plain text</param>
                    <param id="filters.syllable.syllableType">Any syllable</param>
                    <param id="filters.wordPattern.filterType">Plain text</param>
                    <param id="filters.wordTiers.tiers">Orthography,IPA Target,IPA Actual</param>
                    <param id="includeAligned">false</param>
                </script>
            </qry:query>
            <extensions>
                <oga:settings/>
                <oga:meta x="357" y="21"/>
            </extensions>
        </opqry:queryNode>
        <opqry:queryNode id="a2060a772d2048c1" name="Query : Phones (IPA Actual)" type="ca.phon.app.opgraph.nodes.query.QueryNode">
            <qry:query xmlns="http://phon.ling.mun.ca/ns/query" date="2021-04-19T08:32:45.258-02:30" name="Phones" uuid="ada026cb-5bd4-4363-8ca2-bc6f0c827980">
                <script>
                    <url ref="Phones" rel="stock"/>
                    <param id="filters.alignedGroup.patternFilter.filterType">Plain text</param>
                    <param id="filters.alignedWord.patternFilter.filterType">Plain text</param>
                    <param id="filters.groupPattern.filterType">Plain text</param>
                    <param id="filters.primary.filter">\w</param>
                    <param id="filters.primary.filterType">Phonex</param>
                    <param id="filters.searchBy.includePositionalInfo">true</param>
                    <param id="filters.searchBy.searchBy">Word</param>
                    <param id="filters.speaker.age1Comparator">equal to</param>
                    <param id="filters.speaker.age2Comparator">equal to</param>
                    <param id="filters.speaker.ageOperator">(select operator)</param>
                    <param id="filters.speaker.participantRole">(select role)</param>
                    <param id="filters.syllable.otherSyllTypePattern.filterType">Plain text</param>
                    <param id="filters.syllable.syllableType">Any syllable</param>
                    <param id="filters.wordPattern.filterType">Plain text</param>
                    <param id="filters.wordTiers.tiers">Orthography,IPA Target,IPA Actual</param>
                    <param id="includeAligned">false</param>
                    <param id="searchTier">IPA Actual</param>
                </script>
            </qry:query>
            <extensions>
                <oga:settings/>
                <oga:meta x="354" y="230"/>
            </extensions>
        </opqry:queryNode>
        <ogcn:macro id="d4e5e1df1bf7410b" name="Get Report Name" type="ca.phon.opgraph.nodes.general.MacroNode">
            <graph id="656ae481">
                <node id="d4c390a1e5434491" name="String#&lt;init&gt;(String)" type="class:ca.phon.opgraph.nodes.reflect.ConstructorNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ConstructorNode.classMember"><![CDATA[<init>(java.lang.String)]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ConstructorNode.declaredClass"><![CDATA[java.lang.String]]></oga:property>
                        </oga:settings>
                        <oga:meta x="78" y="88">
                            <oga:default for="arg1" type="java.lang.String">reportTitle</oga:default>
                        </oga:meta>
                    </extensions>
                </node>
                <node id="21b928ef08ad49aa" name="Map#get(Object)" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[get(java.lang.Object)]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                        </oga:settings>
                        <oga:meta x="236" y="91"/>
                    </extensions>
                </node>
                <node id="e9126128412b4f05" name="Object#toString()" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[toString()]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                        </oga:settings>
                        <oga:meta x="393" y="100"/>
                    </extensions>
                </node>
                <link dest="21b928ef08ad49aa" destField="arg1" source="d4c390a1e5434491" sourceField="value"/>
                <link dest="e9126128412b4f05" destField="obj" source="21b928ef08ad49aa" sourceField="value"/>
            </graph>
            <ogcn:published_input field="obj" name="parameters" ref="21b928ef08ad49aa"/>
            <ogcn:published_output field="value" name="value" ref="e9126128412b4f05"/>
            <extensions>
                <oga:meta x="327" y="511"/>
            </extensions>
        </ogcn:macro>
        <ogcn:macro id="23539cc0a0fe4588" name="combineParticipants" type="ca.phon.opgraph.nodes.general.MacroNode">
            <graph id="2afeb874">
                <node id="69792100bbb04af7" name="obj" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                        </oga:settings>
                        <oga:meta x="271" y="993"/>
                    </extensions>
                </node>
                <node id="9a1f3a98c04d47f4" type="class:ca.phon.opgraph.nodes.general.TextNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.general.TextNode.text"/>
                        </oga:settings>
                        <oga:meta x="482" y="1110"/>
                    </extensions>
                </node>
                <node id="3646e19376fe4b3a" name="Map" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                        </oga:settings>
                        <oga:meta x="481" y="1010"/>
                    </extensions>
                </node>
                <node id="e53d63e7222742d8" name="Map#get(Object)" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[get(java.lang.Object)]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                        </oga:settings>
                        <oga:meta x="701" y="1029"/>
                    </extensions>
                </node>
                <node id="ea2ea36915884067" name="Object" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                        </oga:settings>
                        <oga:meta x="897" y="1038"/>
                    </extensions>
                </node>
                <node id="1c8e2e7514144310" type="class:ca.phon.opgraph.nodes.reflect.ObjectCastNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectCastNode.declaredClass"><![CDATA[java.lang.Boolean]]></oga:property>
                        </oga:settings>
                        <oga:meta x="1089" y="1051"/>
                    </extensions>
                </node>
                <link dest="e53d63e7222742d8" destField="obj" source="3646e19376fe4b3a" sourceField="obj"/>
                <link dest="ea2ea36915884067" destField="obj" source="e53d63e7222742d8" sourceField="value"/>
                <link dest="1c8e2e7514144310" destField="obj" source="ea2ea36915884067" sourceField="obj"/>
                <link dest="3646e19376fe4b3a" destField="obj" source="69792100bbb04af7" sourceField="obj"/>
                <link dest="e53d63e7222742d8" destField="arg1" source="9a1f3a98c04d47f4" sourceField="value"/>
                <extensions>
                    <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                </extensions>
            </graph>
            <ogcn:published_input field="obj" name="obj" ref="69792100bbb04af7"/>
            <ogcn:published_input field="format" name="format" ref="9a1f3a98c04d47f4"/>
            <ogcn:published_output field="obj" name="value" ref="1c8e2e7514144310"/>
            <extensions>
                <oga:meta x="329" y="602">
                    <oga:default for="format" type="java.lang.String">combineParticipants</oga:default>
                </oga:meta>
            </extensions>
        </ogcn:macro>
        <node id="aeff2945c484cef" type="class:ca.phon.app.opgraph.nodes.log.PrintScriptParameters">
            <extensions>
                <oga:settings>
                    <oga:property key="excludes"><![CDATA[@General]]></oga:property>
                    <oga:property key="printOnlyChanged"><![CDATA[true]]></oga:property>
                    <oga:property key="includes"><![CDATA[@IPA Target Options
@IPA Actual Options]]></oga:property>
                </oga:settings>
                <oga:meta x="557" y="667"/>
            </extensions>
        </node>
        <node id="7df461c2" type="class:ca.phon.app.opgraph.nodes.table.ResultsToTableNode">
            <extensions>
                <oga:settings>
                    <oga:property key="includeSessionInfo"><![CDATA[true]]></oga:property>
                    <oga:property key="includeSpeakerInfo"><![CDATA[true]]></oga:property>
                    <oga:property key="includeMetadata"><![CDATA[true]]></oga:property>
                    <oga:property key="includeTierInfo"><![CDATA[true]]></oga:property>
                </oga:settings>
                <oga:meta x="589" y="16"/>
            </extensions>
        </node>
        <node id="6dfac37ee1204f60" type="class:ca.phon.app.opgraph.nodes.table.ResultsToTableNode">
            <extensions>
                <oga:settings>
                    <oga:property key="includeSessionInfo"><![CDATA[true]]></oga:property>
                    <oga:property key="includeSpeakerInfo"><![CDATA[true]]></oga:property>
                    <oga:property key="includeMetadata"><![CDATA[true]]></oga:property>
                    <oga:property key="includeTierInfo"><![CDATA[true]]></oga:property>
                </oga:settings>
                <oga:meta x="597" y="279"/>
            </extensions>
        </node>
        <node id="4cb6a09d" type="class:ca.phon.app.opgraph.nodes.SelectedParticipantsNode">
            <extensions>
                <oga:meta x="27" y="395"/>
            </extensions>
        </node>
        <node id="5f935232" type="class:ca.phon.app.opgraph.nodes.report.NewReportNode">
            <extensions>
                <oga:settings/>
                <oga:meta x="555" y="560"/>
            </extensions>
        </node>
        <node id="6e83912c" type="class:ca.phon.app.opgraph.nodes.report.TextSectionNode">
            <extensions>
                <oga:settings>
                    <oga:property key="ca.phon.app.opgraph.nodes.report.TextSectionNode.text"/>
                </oga:settings>
                <oga:meta x="882" y="524">
                    <oga:default for="sectionName" type="java.lang.String">Parameters</oga:default>
                </oga:meta>
            </extensions>
        </node>
        <node id="500cc6c5" name="Summary Section Header" type="class:ca.phon.app.opgraph.nodes.report.ReportSectionHeaderNode">
            <extensions>
                <oga:meta x="881" y="700">
                    <oga:default for="sectionName" type="java.lang.String">Summary</oga:default>
                </oga:meta>
            </extensions>
        </node>
        <node id="523fab4720824204" name="Aggregate Section Header" type="class:ca.phon.app.opgraph.nodes.report.ReportSectionHeaderNode">
            <extensions>
                <oga:meta x="885" y="849">
                    <oga:default for="sectionName" type="java.lang.String">Aggregate</oga:default>
                </oga:meta>
            </extensions>
        </node>
        <node id="6d2fd73461774ca5" name="Breakdown Section Header" type="class:ca.phon.app.opgraph.nodes.report.ReportSectionHeaderNode">
            <extensions>
                <oga:meta x="883" y="986">
                    <oga:default for="sectionName" type="java.lang.String">Breakdown</oga:default>
                </oga:meta>
            </extensions>
        </node>
        <ogcn:macro id="2f2adbfc" type="ca.phon.app.opgraph.nodes.ForEachParticipant">
            <graph id="16c14fef">
                <node id="5042889a" name="Current Speaker" type="class:ca.phon.opgraph.nodes.reflect.ContextualItemClassNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ContextualItemClassNode.declaredClass"><![CDATA[ca.phon.session.Participant]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ContextualItemClassNode.key"><![CDATA[_currentSpeaker]]></oga:property>
                        </oga:settings>
                        <oga:meta x="65" y="40"/>
                    </extensions>
                </node>
                <node id="61559b84" name="Speaker tables" type="class:ca.phon.app.opgraph.nodes.ForEachParticipant$ParticipantTableNode">
                    <output name="_tableExists1" type="java.lang.Boolean">Does Table #1 have data</output>
                    <output name="_speakerTable1" type="ca.phon.query.report.datasource.TableDataSource">Table #1</output>
                    <output name="_tableExists2" type="java.lang.Boolean">Does Table #2 have data</output>
                    <output name="_speakerTable2" type="ca.phon.query.report.datasource.TableDataSource">Table #2</output>
                    <extensions>
                        <oga:meta x="67" y="326"/>
                    </extensions>
                </node>
                <ogcn:macro id="d46d8e294c6d4cdb" name="Create Summary Table" type="ca.phon.opgraph.nodes.general.MacroNode">
                    <graph id="389f1745">
                        <node id="bc207b6e015a423b" name="DefaultTableDataSource#&lt;init&gt;()" type="class:ca.phon.opgraph.nodes.reflect.ConstructorNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ConstructorNode.classMember"><![CDATA[<init>()]]></oga:property>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ConstructorNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.DefaultTableDataSource]]></oga:property>
                                </oga:settings>
                                <oga:meta x="15" y="15"/>
                            </extensions>
                        </node>
                        <node id="ed40a2e0bfc543ed" name="Setup Column Names" type="class:ca.phon.app.opgraph.nodes.table.TableScriptNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="__script"><![CDATA[function tableOp(context, table) {
	// add headers to table
	table.setColumnTitle(0, "Session");
	table.setColumnTitle(1, "Role");
	table.setColumnTitle(2, "Age");
	table.setColumnTitle(3, "Unique Target Consonants");
	table.setColumnTitle(4, "Unique Target Vowels");
	table.setColumnTitle(5, "Unique Actual Consonants");
	table.setColumnTitle(6, "Unique Actual Vowels");
}
]]></oga:property>
                                </oga:settings>
                                <oga:meta x="299" y="15"/>
                            </extensions>
                        </node>
                        <link dest="ed40a2e0bfc543ed" destField="table" source="bc207b6e015a423b" sourceField="value"/>
                        <extensions>
                            <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                        </extensions>
                    </graph>
                    <ogcn:published_output field="table" name="table" ref="ed40a2e0bfc543ed"/>
                    <extensions>
                        <oga:meta x="647" y="437"/>
                    </extensions>
                </ogcn:macro>
                <node id="68f0055ccc7c4062" name="Selected Sessions" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="contextKey"><![CDATA[_selectedSessions]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.ArrayList]]></oga:property>
                        </oga:settings>
                        <oga:meta x="66" y="504"/>
                    </extensions>
                </node>
                <node id="ce041ce51f974b43" name="Summary Node" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                        </oga:settings>
                        <oga:meta x="67" y="595"/>
                    </extensions>
                </node>
                <node id="b5894146c74c46a0" name="Breakdown Node" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                        </oga:settings>
                        <oga:meta x="64" y="806"/>
                    </extensions>
                </node>
                <node id="17a9034996b541d6" name="Aggregate Node" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                        </oga:settings>
                        <oga:meta x="79" y="1007"/>
                    </extensions>
                </node>
                <node id="5a6378ce" name="Participant#toString()" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[toString()]]></oga:property>
                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[ca.phon.session.Participant]]></oga:property>
                        </oga:settings>
                        <oga:meta x="405" y="61"/>
                    </extensions>
                </node>
                <node id="3da08d58a5fa48d2" type="class:ca.phon.opgraph.nodes.logic.LogicalOrNode">
                    <extensions>
                        <oga:meta x="663" y="317"/>
                    </extensions>
                </node>
                <ogcn:macro id="d3187ad6031143a4" name="If Speaker has Results" type="ca.phon.opgraph.nodes.general.MacroNode">
                    <graph id="536eefe9">
                        <node id="f169188dc7e9468d" name="IPATargetTable" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.TableDataSource]]></oga:property>
                                </oga:settings>
                                <oga:meta x="44" y="92"/>
                            </extensions>
                        </node>
                        <node id="c2922b476b434221" name="IPAActualTable" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.TableDataSource]]></oga:property>
                                </oga:settings>
                                <oga:meta x="54" y="241"/>
                            </extensions>
                        </node>
                        <node id="7c0f8172a1a7472b" name="Selected Sessions" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="contextKey"><![CDATA[_selectedSessions]]></oga:property>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.ArrayList]]></oga:property>
                                </oga:settings>
                                <oga:meta x="58" y="391"/>
                            </extensions>
                        </node>
                        <node id="ce2cf4d6bbff4228" name="Participant" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.session.Participant]]></oga:property>
                                </oga:settings>
                                <oga:meta x="54" y="505"/>
                            </extensions>
                        </node>
                        <node id="9651cf654ac41b2" name="Summary Table" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.TableDataSource]]></oga:property>
                                </oga:settings>
                                <oga:meta x="54" y="826"/>
                            </extensions>
                        </node>
                        <node id="9af9045d6b154f05" name="Breakdown Node" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                                </oga:settings>
                                <oga:meta x="57" y="982"/>
                            </extensions>
                        </node>
                        <node id="8db33028689549c7" name="Aggregate Node" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                                </oga:settings>
                                <oga:meta x="61" y="1205"/>
                            </extensions>
                        </node>
                        <node id="9c8a8fb41d9e44ec" type="class:ca.phon.app.opgraph.nodes.table.InventoryNode">
                            <extensions>
                                <opqry:inventoryoptions>
                                    <opqry:automaticConfiguration configureAutomatically="false">
                                        <opqry:autoGrouping column="Age" grouping="true"/>
                                        <opqry:autoColumns caseSensitive="false" includeAdditionalGroupData="false" includeAdditionalWordData="false" includeMetadata="true"/>
                                    </opqry:automaticConfiguration>
                                    <opqry:groupBy caseSensitive="false" column="Session">
                                        <opqry:ignoreDiacritics ignore="true" onlyOrExcept="except"/>
                                    </opqry:groupBy>
                                    <opqry:column caseSensitive="false" column="IPA Target">
                                        <opqry:ignoreDiacritics ignore="true" onlyOrExcept="except"/>
                                    </opqry:column>
                                </opqry:inventoryoptions>
                                <oga:settings/>
                                <oga:meta x="434" y="98"/>
                            </extensions>
                        </node>
                        <node id="65a77d7e1f48414d" type="class:ca.phon.app.opgraph.nodes.table.InventoryNode">
                            <extensions>
                                <opqry:inventoryoptions>
                                    <opqry:automaticConfiguration configureAutomatically="false">
                                        <opqry:autoGrouping column="Age" grouping="true"/>
                                        <opqry:autoColumns caseSensitive="false" includeAdditionalGroupData="false" includeAdditionalWordData="false" includeMetadata="true"/>
                                    </opqry:automaticConfiguration>
                                    <opqry:groupBy caseSensitive="false" column="Session">
                                        <opqry:ignoreDiacritics ignore="true" onlyOrExcept="except"/>
                                    </opqry:groupBy>
                                    <opqry:column caseSensitive="false" column="IPA Actual">
                                        <opqry:ignoreDiacritics ignore="true" onlyOrExcept="except"/>
                                    </opqry:column>
                                </opqry:inventoryoptions>
                                <oga:settings/>
                                <oga:meta x="437" y="256"/>
                            </extensions>
                        </node>
                        <node id="67e1940a" name="Split Table" type="class:ca.phon.app.opgraph.nodes.table.TableScriptNode">
                            <output name="keySet" type="java.util.Set">Unique values from given column name</output>
                            <output name="tableMap" type="java.util.Map">Map of key -&gt; table values</output>
                            <extensions>
                                <oga:settings>
                                    <oga:property key="__scriptName"><![CDATA[Split Table]]></oga:property>
                                    <oga:property key="columnName"><![CDATA[Session]]></oga:property>
                                </oga:settings>
                                <oga:meta x="444" y="478"/>
                            </extensions>
                        </node>
                        <node id="6587546a20ff4768" name="Split Table" type="class:ca.phon.app.opgraph.nodes.table.TableScriptNode">
                            <output name="keySet" type="java.util.Set">Unique values from given column name</output>
                            <output name="tableMap" type="java.util.Map">Map of key -&gt; table values</output>
                            <extensions>
                                <oga:settings>
                                    <oga:property key="__scriptName"><![CDATA[Split Table]]></oga:property>
                                    <oga:property key="columnName"><![CDATA[Session]]></oga:property>
                                </oga:settings>
                                <oga:meta x="450" y="642"/>
                            </extensions>
                        </node>
                        <node id="6de63b15d5ad4aef" name="Object#toString()" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[toString()]]></oga:property>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                                </oga:settings>
                                <oga:meta x="447" y="1017"/>
                            </extensions>
                        </node>
                        <node id="4b3abc3547124037" name="Object#toString()" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[toString()]]></oga:property>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                                </oga:settings>
                                <oga:meta x="451" y="1224"/>
                            </extensions>
                        </node>
                        <node id="28edd057804d452f" type="class:ca.phon.app.opgraph.nodes.table.SortNode">
                            <extensions>
                                <opqry:sortoptions autoSortOrder="ascending" configureAutomatically="false">
                                    <opqry:sortBy column="IPA Target" order="ascending" type="ipa"/>
                                </opqry:sortoptions>
                                <oga:settings/>
                                <oga:meta x="694" y="118"/>
                            </extensions>
                        </node>
                        <node id="7c2c7a80e17a443c" type="class:ca.phon.app.opgraph.nodes.table.SortNode">
                            <extensions>
                                <opqry:sortoptions autoSortOrder="ascending" configureAutomatically="false">
                                    <opqry:sortBy column="IPA Actual" order="ascending" type="ipa"/>
                                </opqry:sortoptions>
                                <oga:settings/>
                                <oga:meta x="693" y="242"/>
                            </extensions>
                        </node>
                        <node id="8bf0bfc39d3c46f4" type="class:ca.phon.app.opgraph.nodes.report.ReportSectionHeaderNode">
                            <extensions>
                                <oga:meta x="650" y="1020"/>
                            </extensions>
                        </node>
                        <node id="3559eea8f304784" type="class:ca.phon.app.opgraph.nodes.report.ReportSectionHeaderNode">
                            <extensions>
                                <oga:meta x="654" y="1227"/>
                            </extensions>
                        </node>
                        <node id="2e8b4a67a46f42b9" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[true]]></oga:property>
                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"/>
                                </oga:settings>
                                <oga:meta x="1046" y="101">
                                    <oga:default for="sectionName" type="java.lang.String">IPA Target Inventory</oga:default>
                                </oga:meta>
                            </extensions>
                        </node>
                        <node id="2e0581f3fe7e48b9" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[true]]></oga:property>
                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"/>
                                </oga:settings>
                                <oga:meta x="1051" y="273">
                                    <oga:default for="sectionName" type="java.lang.String">IPA Actual Inventory</oga:default>
                                </oga:meta>
                            </extensions>
                        </node>
                        <ogcn:macro id="63946adcd0cf470e" name="For Each Session" type="ca.phon.opgraph.nodes.reflect.IterableClassNode">
                            <graph id="3bb0cd82">
                                <node id="99bb217415504b56" name="Current Object" type="class:ca.phon.opgraph.nodes.reflect.ContextualItemClassNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ContextualItemClassNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ContextualItemClassNode.key"><![CDATA[currentValue]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="15" y="15"/>
                                    </extensions>
                                </node>
                                <node id="48f23ebb690d4f5a" name="IPA Target Table Map" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="62" y="178"/>
                                    </extensions>
                                </node>
                                <node id="5967ec232fc44c06" name="IPA Actual Table Map" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="62" y="279"/>
                                    </extensions>
                                </node>
                                <node id="2a8c7ad7038043e7" name="Participant" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.session.Participant]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="62" y="380"/>
                                    </extensions>
                                </node>
                                <node id="2a4164ccb2b54118" name="Summary Table" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.TableDataSource]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="62" y="701"/>
                                    </extensions>
                                </node>
                                <node id="f1569b5afacd4383" name="ReportTreeNode" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="58" y="838"/>
                                    </extensions>
                                </node>
                                <node id="4f0eda83c7074cbd" name="Object#toString()" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                                    <extensions>
                                        <oga:settings>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[toString()]]></oga:property>
                                            <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                                        </oga:settings>
                                        <oga:meta x="212" y="15"/>
                                    </extensions>
                                </node>
                                <ogcn:macro id="d9210757f65f4cc1" name="Get Table for Session" type="ca.phon.opgraph.nodes.general.MacroNode">
                                    <graph id="2b9cb323">
                                        <node id="9faf511a714e4e59" name="Map" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="119" y="79"/>
                                            </extensions>
                                        </node>
                                        <node id="a38ed05567a471a" name="Tier Name" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.lang.String]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="78" y="247"/>
                                            </extensions>
                                        </node>
                                        <node id="aa142b97ac654f91" name="Map#get(Object)" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[get(java.lang.Object)]]></oga:property>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="401" y="69"/>
                                            </extensions>
                                        </node>
                                        <node id="fd51c06ee51e4cc8" type="class:ca.phon.app.opgraph.nodes.PhonScriptNode">
                                            <input name="table" optional="false"/>
                                            <input name="tierName" optional="false"/>
                                            <output name="exists" type="java.lang.Boolean">does table exist</output>
                                            <output name="table" type="ca.phon.query.report.datasource.DefaultTableDataSource">table if exists, undefined otherwise</output>
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="__script"><![CDATA[
// setup input/output fields
function init(inputFields, outputFields) {
	inputFields.add("table", "");
	inputFields.add("tierName", "");
	outputFields.add("exists", "does table exist", false, java.lang.Boolean);
	outputFields.add("table", "table if exists, undefined otherwise", false, Packages.ca.phon.query.report.datasource.DefaultTableDataSource);
}

function run(context) {
	var table = context.get("table");
	var tierName = context.get("tierName");

	context.put("exists", (table != null));

	if(table == null) {
		table = new Packages.ca.phon.query.report.datasource.DefaultTableDataSource();
		table.setColumnTitle(0, "Session");
		table.setColumnTitle(1, tierName);
	}
	context.put("table", table);
}
]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="590" y="73"/>
                                            </extensions>
                                        </node>
                                        <link dest="aa142b97ac654f91" destField="obj" source="9faf511a714e4e59" sourceField="obj"/>
                                        <link dest="fd51c06ee51e4cc8" destField="table" source="aa142b97ac654f91" sourceField="value"/>
                                        <link dest="fd51c06ee51e4cc8" destField="tierName" source="a38ed05567a471a" sourceField="obj"/>
                                        <extensions>
                                            <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                                        </extensions>
                                    </graph>
                                    <ogcn:published_input field="arg1" name="sessionName" ref="aa142b97ac654f91"/>
                                    <ogcn:published_input field="obj" name="tableMap" ref="9faf511a714e4e59"/>
                                    <ogcn:published_input field="obj" name="tierName" ref="a38ed05567a471a"/>
                                    <ogcn:published_output field="exists" name="exists" ref="fd51c06ee51e4cc8"/>
                                    <ogcn:published_output field="table" name="table" ref="fd51c06ee51e4cc8"/>
                                    <extensions>
                                        <oga:meta x="430" y="246">
                                            <oga:default for="tierName" type="java.lang.String">IPA Target</oga:default>
                                        </oga:meta>
                                    </extensions>
                                </ogcn:macro>
                                <ogcn:macro id="22c8508ecef74b54" name="Get Table for Session" type="ca.phon.opgraph.nodes.general.MacroNode">
                                    <graph id="2a5e0f09">
                                        <node id="594667969504475b" name="Map" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="80" y="83"/>
                                            </extensions>
                                        </node>
                                        <node id="cb21d010933e4f33" name="Tier Name" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.lang.String]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="78" y="247"/>
                                            </extensions>
                                        </node>
                                        <node id="2ec1cb32c0dd40ae" name="Map#get(Object)" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[get(java.lang.Object)]]></oga:property>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.util.Map]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="401" y="69"/>
                                            </extensions>
                                        </node>
                                        <node id="b73d40984974af0" type="class:ca.phon.app.opgraph.nodes.PhonScriptNode">
                                            <input name="table" optional="false"/>
                                            <input name="tierName" optional="false"/>
                                            <output name="exists" type="java.lang.Boolean">does table exist</output>
                                            <output name="table" type="ca.phon.query.report.datasource.DefaultTableDataSource">table if exists, undefined otherwise</output>
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="__script"><![CDATA[
// setup input/output fields
function init(inputFields, outputFields) {
	inputFields.add("table", "");
	inputFields.add("tierName", "");
	outputFields.add("exists", "does table exist", false, java.lang.Boolean);
	outputFields.add("table", "table if exists, undefined otherwise", false, Packages.ca.phon.query.report.datasource.DefaultTableDataSource);
}

function run(context) {
	var table = context.get("table");
	var tierName = context.get("tierName");

	context.put("exists", (table != null));

	if(table == null) {
		table = new Packages.ca.phon.query.report.datasource.DefaultTableDataSource();
		table.setColumnTitle(0, "Session");
		table.setColumnTitle(1, tierName);
	}
	context.put("table", table);
}
]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="590" y="73"/>
                                            </extensions>
                                        </node>
                                        <link dest="2ec1cb32c0dd40ae" destField="obj" source="594667969504475b" sourceField="obj"/>
                                        <link dest="b73d40984974af0" destField="table" source="2ec1cb32c0dd40ae" sourceField="value"/>
                                        <link dest="b73d40984974af0" destField="tierName" source="cb21d010933e4f33" sourceField="obj"/>
                                        <extensions>
                                            <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                                        </extensions>
                                    </graph>
                                    <ogcn:published_input field="arg1" name="sessionName" ref="2ec1cb32c0dd40ae"/>
                                    <ogcn:published_input field="obj" name="tableMap" ref="594667969504475b"/>
                                    <ogcn:published_input field="obj" name="tierName" ref="cb21d010933e4f33"/>
                                    <ogcn:published_output field="exists" name="exists" ref="b73d40984974af0"/>
                                    <ogcn:published_output field="table" name="table" ref="b73d40984974af0"/>
                                    <extensions>
                                        <oga:meta x="426" y="403">
                                            <oga:default for="tierName" type="java.lang.String">IPA Actual</oga:default>
                                        </oga:meta>
                                    </extensions>
                                </ogcn:macro>
                                <node id="254c517299341b5" type="class:ca.phon.opgraph.nodes.logic.LogicalOrNode">
                                    <extensions>
                                        <oga:meta x="698" y="321"/>
                                    </extensions>
                                </node>
                                <ogcn:macro id="a52c23a374e4c87" name="If Speaker has Results for Session" type="ca.phon.opgraph.nodes.general.MacroNode">
                                    <graph id="7373b149">
                                        <node id="8b1d112fbd104c34" name="IPA Target Table" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.DefaultTableDataSource]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="63" y="96"/>
                                            </extensions>
                                        </node>
                                        <node id="e6dfdc8f182f42d0" name="IPA Actual Table" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.DefaultTableDataSource]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="63" y="257"/>
                                            </extensions>
                                        </node>
                                        <node id="5f5d1003c6cc4160" name="Participant" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.session.Participant]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="63" y="418"/>
                                            </extensions>
                                        </node>
                                        <node id="5b616c8c2ce44bfd" name="Session Path" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="63" y="739"/>
                                            </extensions>
                                        </node>
                                        <node id="ecdcadfd3d224573" name="Summary Table" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.query.report.datasource.TableDataSource]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="63" y="840"/>
                                            </extensions>
                                        </node>
                                        <node id="3cb5f639eee9433a" name="ReportTreeNode" type="class:ca.phon.opgraph.nodes.reflect.ObjectNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.ObjectNode.declaredClass"><![CDATA[ca.phon.app.opgraph.report.tree.ReportTreeNode]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="57" y="982"/>
                                            </extensions>
                                        </node>
                                        <node id="8f0241873532482f" type="class:ca.phon.app.opgraph.nodes.table.InventoryNode">
                                            <extensions>
                                                <opqry:inventoryoptions>
                                                    <opqry:automaticConfiguration configureAutomatically="false">
                                                        <opqry:autoGrouping column="Age" grouping="true"/>
                                                        <opqry:autoColumns caseSensitive="false" includeAdditionalGroupData="false" includeAdditionalWordData="false" includeMetadata="true"/>
                                                    </opqry:automaticConfiguration>
                                                    <opqry:column caseSensitive="false" column="IPA Target">
                                                        <opqry:ignoreDiacritics ignore="true" onlyOrExcept="except"/>
                                                    </opqry:column>
                                                </opqry:inventoryoptions>
                                                <oga:settings/>
                                                <oga:meta x="365" y="99"/>
                                            </extensions>
                                        </node>
                                        <node id="91062eb6c4a34847" type="class:ca.phon.app.opgraph.nodes.table.InventoryNode">
                                            <extensions>
                                                <opqry:inventoryoptions>
                                                    <opqry:automaticConfiguration configureAutomatically="false">
                                                        <opqry:autoGrouping column="Age" grouping="true"/>
                                                        <opqry:autoColumns caseSensitive="false" includeAdditionalGroupData="false" includeAdditionalWordData="false" includeMetadata="true"/>
                                                    </opqry:automaticConfiguration>
                                                    <opqry:column caseSensitive="false" column="IPA Actual">
                                                        <opqry:ignoreDiacritics ignore="true" onlyOrExcept="except"/>
                                                    </opqry:column>
                                                </opqry:inventoryoptions>
                                                <oga:settings/>
                                                <oga:meta x="368" y="256"/>
                                            </extensions>
                                        </node>
                                        <node id="1dd6a17b1f3d4b65" name="Object#toString()" type="class:ca.phon.opgraph.nodes.reflect.MethodNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.classMember"><![CDATA[toString()]]></oga:property>
                                                    <oga:property key="ca.phon.opgraph.nodes.reflect.MethodNode.declaredClass"><![CDATA[java.lang.Object]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="888" y="280"/>
                                            </extensions>
                                        </node>
                                        <node id="a7875a6c9d694b19" type="class:ca.phon.app.opgraph.nodes.table.MergeTablesNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="keyColumnName"><![CDATA[Phone]]></oga:property>
                                                    <oga:property key="table1KeyColumn"><![CDATA[IPA Target]]></oga:property>
                                                    <oga:property key="table1ColumnSuffix"/>
                                                    <oga:property key="table2ColumnPrefix"><![CDATA[IPA Actual ]]></oga:property>
                                                    <oga:property key="table1KeyColumnIgnoreDiacritics"><![CDATA[true]]></oga:property>
                                                    <oga:property key="table2KeyColumn"><![CDATA[IPA Actual]]></oga:property>
                                                    <oga:property key="table2ColumnRatio"><![CDATA[1]]></oga:property>
                                                    <oga:property key="table2KeyColumnCaseSensitive"><![CDATA[false]]></oga:property>
                                                    <oga:property key="table1ColumnPrefix"><![CDATA[IPA Target ]]></oga:property>
                                                    <oga:property key="table2KeyColumnIgnoreDiacritics"><![CDATA[true]]></oga:property>
                                                    <oga:property key="table1KeyColumnCaseSensitive"><![CDATA[false]]></oga:property>
                                                    <oga:property key="interleaveColumns"><![CDATA[true]]></oga:property>
                                                    <oga:property key="table2ColumnSuffix"/>
                                                    <oga:property key="table1ColumnRatio"><![CDATA[1]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="703" y="159"/>
                                            </extensions>
                                        </node>
                                        <node id="6c8cc508bb1c4ecb" name="Partition Table" type="class:ca.phon.app.opgraph.nodes.table.TableScriptNode">
                                            <output name="trueTable" type="ca.phon.query.report.datasource.DefaultTableDataSource">Table of rows from input table which match filter</output>
                                            <output name="falseTable" type="ca.phon.query.report.datasource.DefaultTableDataSource">Table of rows from output table which do not match the filter</output>
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="filters.column.filter"><![CDATA[\c]]></oga:property>
                                                    <oga:property key="filters.column.filterType"><![CDATA[Phonex]]></oga:property>
                                                    <oga:property key="__script"><![CDATA[/*
 * Phon - An open source tool for research in phonology.
 * Copyright (C) 2005 - 201, Gregory Hedlund <ghedlund@mun.ca> and Yvan Rose <yrose@mun.ca>
 * Dept of Linguistics, Memorial University <https://phon.ca>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

 /**
  * Partition Table.js
  *
  * Script for use with ca.phon.app.opgraph.nodes.table.TableScriptNode
  *
  * Partition table using a standard query filter and column name.
  */
var PatternFilter = require("lib/PatternFilter").PatternFilter;

var columnParamInfo = {
	"id": "columnName",
	"title": "Column Name",
	"def": "",
	"prompt": "Enter column name"
}

var filters = {
    "column": new PatternFilter("filters.column")
}

function setup_params(params) {
	var columnParam = new StringScriptParam(
		columnParamInfo.id,
		columnParamInfo.title,
		columnParamInfo.def);
	columnParam.setPrompt(columnParamInfo.prompt);
	params.add(columnParam);

	filters.column.param_setup(params);
}

// add custom inputs/outputs here
function init(inputs, outputs) {
	outputs.add("trueTable", "Table of rows from input table which match filter", false, DefaultTableDataSource);
	outputs.add("falseTable", "Table of rows from output table which do not match the filter", false, DefaultTableDataSource);
}

// run operation on table
function tableOp(context, table) {
	// find table column index
	col = table.getColumnIndex(columnName);
	if(col < 0)
		return; // column not found

	// create output tables
	trueTable = new DefaultTableDataSource();
	falseTable = new DefaultTableDataSource();
	for(c = 0; c < table.columnCount; c++) {
	    var colTitle = table.getColumnTitle(c);
	    trueTable.setColumnTitle(c, colTitle);
	    falseTable.setColumnTitle(c, colTitle);
	}

	for(row = 0; row < table.rowCount; row++) {
		rowData = table.getRow(row);
		rowMatches = filterRow(table, row, col);

		if(rowMatches == true) {
			trueTable.addRow(rowData);
		} else {
			falseTable.addRow(rowData);
		}
	}

	context.put("trueTable", trueTable);
	context.put("falseTable", falseTable);
}

function filterRow(table, row, col) {
	var value = table.getValueAt(row, col);
	if(value == null) return false;

	return filters.column.check_filter(value);
}
]]></oga:property>
                                                    <oga:property key="columnName"><![CDATA[IPA Target]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="459" y="549"/>
                                            </extensions>
                                        </node>
                                        <node id="c2ab03634e7c4e06" name="Partition Table" type="class:ca.phon.app.opgraph.nodes.table.TableScriptNode">
                                            <output name="trueTable" type="ca.phon.query.report.datasource.DefaultTableDataSource">Table of rows from input table which match filter</output>
                                            <output name="falseTable" type="ca.phon.query.report.datasource.DefaultTableDataSource">Table of rows from output table which do not match the filter</output>
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="filters.column.filter"><![CDATA[\c]]></oga:property>
                                                    <oga:property key="filters.column.filterType"><![CDATA[Phonex]]></oga:property>
                                                    <oga:property key="__script"><![CDATA[/*
 * Phon - An open source tool for research in phonology.
 * Copyright (C) 2005 - 201, Gregory Hedlund <ghedlund@mun.ca> and Yvan Rose <yrose@mun.ca>
 * Dept of Linguistics, Memorial University <https://phon.ca>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

 /**
  * Partition Table.js
  *
  * Script for use with ca.phon.app.opgraph.nodes.table.TableScriptNode
  *
  * Partition table using a standard query filter and column name.
  */
var PatternFilter = require("lib/PatternFilter").PatternFilter;

var columnParamInfo = {
	"id": "columnName",
	"title": "Column Name",
	"def": "",
	"prompt": "Enter column name"
}

var filters = {
    "column": new PatternFilter("filters.column")
}

function setup_params(params) {
	var columnParam = new StringScriptParam(
		columnParamInfo.id,
		columnParamInfo.title,
		columnParamInfo.def);
	columnParam.setPrompt(columnParamInfo.prompt);
	params.add(columnParam);

	filters.column.param_setup(params);
}

// add custom inputs/outputs here
function init(inputs, outputs) {
	outputs.add("trueTable", "Table of rows from input table which match filter", false, DefaultTableDataSource);
	outputs.add("falseTable", "Table of rows from output table which do not match the filter", false, DefaultTableDataSource);
}

// run operation on table
function tableOp(context, table) {
	// find table column index
	col = table.getColumnIndex(columnName);
	if(col < 0)
		return; // column not found

	// create output tables
	trueTable = new DefaultTableDataSource();
	falseTable = new DefaultTableDataSource();
	for(c = 0; c < table.columnCount; c++) {
	    var colTitle = table.getColumnTitle(c);
	    trueTable.setColumnTitle(c, colTitle);
	    falseTable.setColumnTitle(c, colTitle);
	}

	for(row = 0; row < table.rowCount; row++) {
		rowData = table.getRow(row);
		rowMatches = filterRow(table, row, col);

		if(rowMatches == true) {
			trueTable.addRow(rowData);
		} else {
			falseTable.addRow(rowData);
		}
	}

	context.put("trueTable", trueTable);
	context.put("falseTable", falseTable);
}

function filterRow(table, row, col) {
	var value = table.getValueAt(row, col);
	if(value == null) return false;

	return filters.column.check_filter(value);
}
]]></oga:property>
                                                    <oga:property key="columnName"><![CDATA[IPA Actual]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="469" y="701"/>
                                            </extensions>
                                        </node>
                                        <node id="e4dbb3767c5e4d10" type="class:ca.phon.app.opgraph.nodes.table.SortNode">
                                            <extensions>
                                                <opqry:sortoptions autoSortOrder="ascending" configureAutomatically="false">
                                                    <opqry:sortBy column="Phone" order="ascending" type="ipa"/>
                                                </opqry:sortoptions>
                                                <oga:settings/>
                                                <oga:meta x="882" y="159"/>
                                            </extensions>
                                        </node>
                                        <node id="65643dd522be4131" name="Add row to Session Summary" type="class:ca.phon.app.opgraph.nodes.table.TableScriptNode">
                                            <input name="speaker" optional="false">speaker</input>
                                            <input name="sessionPath" optional="false">session</input>
                                            <input name="targetConsonants" optional="false"/>
                                            <input name="targetVowels" optional="false"/>
                                            <input name="actualConsonants" optional="false"/>
                                            <input name="actualVowels" optional="false"/>
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="__script"><![CDATA[function init(inputs, outputs) {
	inputs.add("speaker", "speaker", false, false);
	inputs.add("sessionPath", "session", false, false);
	inputs.add("targetConsonants", "", false, false);
	inputs.add("targetVowels", "", false, false);
	inputs.add("actualConsonants", "", false, false);
	inputs.add("actualVowels", "", false, false);
}

function tableOp(context, table) {
	var row = [];

	var speaker = context.get("speaker");
	var sessionPath = context.get("sessionPath");
	var history = speaker.getExtension(Packages.ca.phon.project.ParticipantHistory);
	var targetConsonants = context.get("targetConsonants");
	var targetVowels = context.get("targetVowels");
	var actualConsonants = context.get("actualConsonants");
	var actualVowels = context.get("actualVowels");

	row[0] = sessionPath;
	row[1] = speaker.role;
	row[2] = history.getAgeForSession(sessionPath);
	row[3] = new java.lang.Integer(targetConsonants.rowCount);
	row[4] = new java.lang.Integer(targetVowels.rowCount);
	row[5] = new java.lang.Integer(actualConsonants.rowCount);
	row[6] = new java.lang.Integer(actualVowels.rowCount);

	table.addRow(row);
}
]]></oga:property>
                                                </oga:settings>
                                                <oga:meta x="802" y="565"/>
                                            </extensions>
                                        </node>
                                        <node id="ad99ca03c2aa44ff" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[true]]></oga:property>
                                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"/>
                                                </oga:settings>
                                                <oga:meta x="847" y="817">
                                                    <oga:default for="sectionName" type="java.lang.String">Target Consonants</oga:default>
                                                </oga:meta>
                                            </extensions>
                                        </node>
                                        <node id="8a23620e45f34f22" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[true]]></oga:property>
                                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"/>
                                                </oga:settings>
                                                <oga:meta x="852" y="980">
                                                    <oga:default for="sectionName" type="java.lang.String">Target Vowels</oga:default>
                                                </oga:meta>
                                            </extensions>
                                        </node>
                                        <node id="911a5b7ac3634545" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
                                            <extensions>
                                                <oga:settings>
                                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[true]]></oga:property>
                                                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"/>
                                                </oga:settings>
                                                <oga:meta x="1140" y="181"/>
                                            </extensions>
                                        </node>
                                        <link dest="8f0241873532482f" destField="table" source="8b1d112fbd104c34" sourceField="obj"/>
                                        <link dest="91062eb6c4a34847" destField="table" source="e6dfdc8f182f42d0" sourceField="obj"/>
                                        <link dest="a7875a6c9d694b19" destField="table1" source="8f0241873532482f" sourceField="table"/>
                                        <link dest="a7875a6c9d694b19" destField="table2" source="91062eb6c4a34847" sourceField="table"/>
                                        <link dest="e4dbb3767c5e4d10" destField="table" source="a7875a6c9d694b19" sourceField="table"/>
                                        <link dest="65643dd522be4131" destField="speaker" source="5f5d1003c6cc4160" sourceField="obj"/>
                                        <link dest="65643dd522be4131" destField="sessionPath" source="5b616c8c2ce44bfd" sourceField="obj"/>
                                        <link dest="65643dd522be4131" destField="targetConsonants" source="6c8cc508bb1c4ecb" sourceField="trueTable"/>
                                        <link dest="65643dd522be4131" destField="targetVowels" source="6c8cc508bb1c4ecb" sourceField="falseTable"/>
                                        <link dest="65643dd522be4131" destField="actualConsonants" source="c2ab03634e7c4e06" sourceField="trueTable"/>
                                        <link dest="65643dd522be4131" destField="actualVowels" source="c2ab03634e7c4e06" sourceField="falseTable"/>
                                        <link dest="65643dd522be4131" destField="table" source="ecdcadfd3d224573" sourceField="obj"/>
                                        <link dest="911a5b7ac3634545" destField="table" source="e4dbb3767c5e4d10" sourceField="table"/>
                                        <link dest="911a5b7ac3634545" destField="parent" source="3cb5f639eee9433a" sourceField="obj"/>
                                        <link dest="1dd6a17b1f3d4b65" destField="obj" source="5b616c8c2ce44bfd" sourceField="obj"/>
                                        <link dest="911a5b7ac3634545" destField="sectionName" source="1dd6a17b1f3d4b65" sourceField="value"/>
                                        <link dest="c2ab03634e7c4e06" destField="table" source="91062eb6c4a34847" sourceField="table"/>
                                        <link dest="6c8cc508bb1c4ecb" destField="table" source="8f0241873532482f" sourceField="table"/>
                                        <link dest="ad99ca03c2aa44ff" destField="table" source="6c8cc508bb1c4ecb" sourceField="trueTable"/>
                                        <link dest="ad99ca03c2aa44ff" destField="parent" source="3cb5f639eee9433a" sourceField="obj"/>
                                        <link dest="8a23620e45f34f22" destField="parent" source="3cb5f639eee9433a" sourceField="obj"/>
                                        <link dest="8a23620e45f34f22" destField="table" source="6c8cc508bb1c4ecb" sourceField="falseTable"/>
                                        <extensions>
                                            <oga:notes>
                                                <oga:note color="0xffff96" height="1182" title="Inputs" width="317" x="28" y="41"/>
                                            </oga:notes>
                                            <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                                        </extensions>
                                    </graph>
                                    <ogcn:published_input field="obj" name="ipaTargetTable" ref="8b1d112fbd104c34"/>
                                    <ogcn:published_input field="obj" name="ipaActualTable" ref="e6dfdc8f182f42d0"/>
                                    <ogcn:published_input field="obj" name="speaker" ref="5f5d1003c6cc4160"/>
                                    <ogcn:published_input field="obj" name="sessionPath" ref="5b616c8c2ce44bfd"/>
                                    <ogcn:published_input field="obj" name="summaryTable" ref="ecdcadfd3d224573"/>
                                    <ogcn:published_input field="obj" name="reportNode" ref="3cb5f639eee9433a"/>
                                    <extensions>
                                        <oga:meta x="916" y="292"/>
                                    </extensions>
                                </ogcn:macro>
                                <link dest="4f0eda83c7074cbd" destField="obj" source="99bb217415504b56" sourceField="obj"/>
                                <link dest="d9210757f65f4cc1" destField="sessionName" source="4f0eda83c7074cbd" sourceField="value"/>
                                <link dest="d9210757f65f4cc1" destField="tableMap" source="48f23ebb690d4f5a" sourceField="obj"/>
                                <link dest="22c8508ecef74b54" destField="tableMap" source="5967ec232fc44c06" sourceField="obj"/>
                                <link dest="22c8508ecef74b54" destField="sessionName" source="4f0eda83c7074cbd" sourceField="value"/>
                                <link dest="254c517299341b5" destField="x" source="d9210757f65f4cc1" sourceField="exists"/>
                                <link dest="254c517299341b5" destField="y" source="22c8508ecef74b54" sourceField="exists"/>
                                <link dest="a52c23a374e4c87" destField="ipaTargetTable" source="d9210757f65f4cc1" sourceField="table"/>
                                <link dest="a52c23a374e4c87" destField="ipaActualTable" source="22c8508ecef74b54" sourceField="table"/>
                                <link dest="a52c23a374e4c87" destField="speaker" source="2a8c7ad7038043e7" sourceField="obj"/>
                                <link dest="a52c23a374e4c87" destField="sessionPath" source="99bb217415504b56" sourceField="obj"/>
                                <link dest="a52c23a374e4c87" destField="summaryTable" source="2a4164ccb2b54118" sourceField="obj"/>
                                <link dest="a52c23a374e4c87" destField="enabled" source="254c517299341b5" sourceField="result"/>
                                <link dest="a52c23a374e4c87" destField="reportNode" source="f1569b5afacd4383" sourceField="obj"/>
                                <extensions>
                                    <oga:notes>
                                        <oga:note color="0xffff96" height="932" title="Inputs" width="313" x="24" y="150"/>
                                    </oga:notes>
                                    <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                                </extensions>
                            </graph>
                            <ogcn:published_input field="obj" name="ipaTargetTableMap" ref="48f23ebb690d4f5a"/>
                            <ogcn:published_input field="obj" name="ipaActualTableMap" ref="5967ec232fc44c06"/>
                            <ogcn:published_input field="obj" name="speaker" ref="2a8c7ad7038043e7"/>
                            <ogcn:published_input field="obj" name="summaryTable" ref="2a4164ccb2b54118"/>
                            <ogcn:published_input field="obj" name="reportNode" ref="f1569b5afacd4383"/>
                            <extensions>
                                <oga:settings>
                                    <oga:property key="ca.phon.opgraph.nodes.reflect.IterableClassNode.className"><![CDATA[java.util.ArrayList]]></oga:property>
                                </oga:settings>
                                <oga:meta x="708" y="486"/>
                            </extensions>
                        </ogcn:macro>
                        <link dest="63946adcd0cf470e" destField="collection" source="7c0f8172a1a7472b" sourceField="obj"/>
                        <link dest="63946adcd0cf470e" destField="speaker" source="ce2cf4d6bbff4228" sourceField="obj"/>
                        <link dest="63946adcd0cf470e" destField="summaryTable" source="9651cf654ac41b2" sourceField="obj"/>
                        <link dest="7c2c7a80e17a443c" destField="table" source="65a77d7e1f48414d" sourceField="table"/>
                        <link dest="8bf0bfc39d3c46f4" destField="sectionName" source="6de63b15d5ad4aef" sourceField="value"/>
                        <link dest="63946adcd0cf470e" destField="reportNode" source="8bf0bfc39d3c46f4" sourceField="section"/>
                        <link dest="2e8b4a67a46f42b9" destField="table" source="28edd057804d452f" sourceField="table"/>
                        <link dest="2e0581f3fe7e48b9" destField="table" source="7c2c7a80e17a443c" sourceField="table"/>
                        <link dest="3559eea8f304784" destField="sectionName" source="4b3abc3547124037" sourceField="value"/>
                        <link dest="3559eea8f304784" destField="parent" source="8db33028689549c7" sourceField="obj"/>
                        <link dest="2e8b4a67a46f42b9" destField="parent" source="3559eea8f304784" sourceField="section"/>
                        <link dest="2e0581f3fe7e48b9" destField="parent" source="3559eea8f304784" sourceField="section"/>
                        <link dest="4b3abc3547124037" destField="obj" source="ce2cf4d6bbff4228" sourceField="obj"/>
                        <link dest="6de63b15d5ad4aef" destField="obj" source="ce2cf4d6bbff4228" sourceField="obj"/>
                        <link dest="8bf0bfc39d3c46f4" destField="parent" source="9af9045d6b154f05" sourceField="obj"/>
                        <link dest="28edd057804d452f" destField="table" source="9c8a8fb41d9e44ec" sourceField="table"/>
                        <link dest="9c8a8fb41d9e44ec" destField="table" source="f169188dc7e9468d" sourceField="obj"/>
                        <link dest="65a77d7e1f48414d" destField="table" source="c2922b476b434221" sourceField="obj"/>
                        <link dest="67e1940a" destField="table" source="f169188dc7e9468d" sourceField="obj"/>
                        <link dest="63946adcd0cf470e" destField="ipaTargetTableMap" source="67e1940a" sourceField="tableMap"/>
                        <link dest="6587546a20ff4768" destField="table" source="c2922b476b434221" sourceField="obj"/>
                        <link dest="63946adcd0cf470e" destField="ipaActualTableMap" source="6587546a20ff4768" sourceField="tableMap"/>
                        <extensions>
                            <oga:notes>
                                <oga:note color="0xffff96" height="1437" title="Inputs" width="333" x="24" y="19"/>
                            </oga:notes>
                            <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                        </extensions>
                    </graph>
                    <ogcn:published_input field="obj" name="selectedSessions" ref="7c0f8172a1a7472b"/>
                    <ogcn:published_input field="obj" name="speaker" ref="ce2cf4d6bbff4228"/>
                    <ogcn:published_input field="obj" name="summaryTable" ref="9651cf654ac41b2"/>
                    <ogcn:published_input field="obj" name="breakdownNode" ref="9af9045d6b154f05"/>
                    <ogcn:published_input field="obj" name="aggregateNode" ref="8db33028689549c7"/>
                    <ogcn:published_input field="obj" name="ipaTargetTable" ref="f169188dc7e9468d"/>
                    <ogcn:published_input field="obj" name="ipaActualTable" ref="c2922b476b434221"/>
                    <ogcn:published_output field="collection" name="collection" ref="63946adcd0cf470e"/>
                    <extensions>
                        <oga:meta x="975" y="328"/>
                    </extensions>
                </ogcn:macro>
                <node id="7443d0f91d024731" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
                    <extensions>
                        <oga:settings>
                            <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[true]]></oga:property>
                            <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"/>
                        </oga:settings>
                        <oga:meta x="644" y="530"/>
                    </extensions>
                </node>
                <link dest="7443d0f91d024731" destField="enabled" source="d3187ad6031143a4" sourceField="finished"/>
                <link dest="d3187ad6031143a4" destField="enabled" source="3da08d58a5fa48d2" sourceField="result"/>
                <link dest="d3187ad6031143a4" destField="summaryTable" source="d46d8e294c6d4cdb" sourceField="table"/>
                <link dest="7443d0f91d024731" destField="table" source="d46d8e294c6d4cdb" sourceField="table"/>
                <link dest="d3187ad6031143a4" destField="selectedSessions" source="68f0055ccc7c4062" sourceField="obj"/>
                <link dest="7443d0f91d024731" destField="parent" source="ce041ce51f974b43" sourceField="obj"/>
                <link dest="d3187ad6031143a4" destField="breakdownNode" source="b5894146c74c46a0" sourceField="obj"/>
                <link dest="d3187ad6031143a4" destField="aggregateNode" source="17a9034996b541d6" sourceField="obj"/>
                <link dest="3da08d58a5fa48d2" destField="x" source="61559b84" sourceField="_tableExists1"/>
                <link dest="3da08d58a5fa48d2" destField="y" source="61559b84" sourceField="_tableExists2"/>
                <link dest="d3187ad6031143a4" destField="ipaTargetTable" source="61559b84" sourceField="_speakerTable1"/>
                <link dest="d3187ad6031143a4" destField="ipaActualTable" source="61559b84" sourceField="_speakerTable2"/>
                <link dest="d3187ad6031143a4" destField="speaker" source="5042889a" sourceField="obj"/>
                <link dest="5a6378ce" destField="obj" source="5042889a" sourceField="obj"/>
                <link dest="7443d0f91d024731" destField="sectionName" source="5a6378ce" sourceField="value"/>
                <extensions>
                    <oga:notes>
                        <oga:note color="0xffff96" height="454" title="Iteration" width="346" x="43" y="10"/>
                        <oga:note color="0xffff96" height="742" title="Inputs" width="424" x="38" y="478"/>
                    </oga:notes>
                    <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
                </extensions>
            </graph>
            <input name="_inputTable1" optional="true">Input table # 1</input>
            <input name="_inputTable2" optional="true">Input table # 2</input>
            <ogcn:published_input field="obj" name="selectedSessions" ref="68f0055ccc7c4062"/>
            <ogcn:published_input field="obj" name="summaryNode" ref="ce041ce51f974b43"/>
            <ogcn:published_input field="obj" name="breakdownNode" ref="b5894146c74c46a0"/>
            <ogcn:published_input field="obj" name="aggregateNode" ref="17a9034996b541d6"/>
            <extensions>
                <oga:settings>
                    <oga:property key="ca.phon.app.opgraph.nodes.ForEachParticipant.numTables"><![CDATA[2]]></oga:property>
                </oga:settings>
                <oga:meta x="961" y="195"/>
            </extensions>
        </ogcn:macro>
        <node id="ede1e2d" name="Listing (IPA Target)" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
            <extensions>
                <oga:settings>
                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[false]]></oga:property>
                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"><![CDATA[Date
Age
Tier
Result
Range
IPA Actual (Group)
IPA Actual (Word)]]></oga:property>
                </oga:settings>
                <oga:meta x="1228" y="559">
                    <oga:default for="sectionName" type="java.lang.String">Listing (IPA Target)</oga:default>
                </oga:meta>
            </extensions>
        </node>
        <node id="83f39abfcfdf414d" name="Listing (IPA Actual)" type="class:ca.phon.app.opgraph.nodes.report.TableSectionNode">
            <extensions>
                <oga:settings>
                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.includeColumns"><![CDATA[false]]></oga:property>
                    <oga:property key="ca.phon.app.opgraph.nodes.report.TableSectionNode.columns"><![CDATA[Date
Age
Tier
Result
Range
IPA Target (Group)
IPA Target (Word)]]></oga:property>
                </oga:settings>
                <oga:meta x="1232" y="716">
                    <oga:default for="sectionName" type="java.lang.String">Listing (IPA Actual)</oga:default>
                </oga:meta>
            </extensions>
        </node>
        <link dest="d4e5e1df1bf7410b" destField="parameters" source="6df4d2f7" sourceField="parameters"/>
        <link dest="5f935232" destField="reportName" source="d4e5e1df1bf7410b" sourceField="value"/>
        <link dest="aeff2945c484cef" destField="script" source="6df4d2f7" sourceField="script"/>
        <link dest="6e83912c" destField="text" source="aeff2945c484cef" sourceField="text"/>
        <link dest="6e83912c" destField="parent" source="5f935232" sourceField="root"/>
        <link dest="500cc6c5" destField="parent" source="5f935232" sourceField="root"/>
        <link dest="523fab4720824204" destField="parent" source="5f935232" sourceField="root"/>
        <link dest="6d2fd73461774ca5" destField="parent" source="5f935232" sourceField="root"/>
        <link dest="23539cc0a0fe4588" destField="obj" source="6df4d2f7" sourceField="parameters"/>
        <link dest="4cb6a09d" destField="combine" source="23539cc0a0fe4588" sourceField="value"/>
        <link dest="2f2adbfc" destField="_inputTable1" source="7df461c2" sourceField="table"/>
        <link dest="2f2adbfc" destField="_inputTable2" source="6dfac37ee1204f60" sourceField="table"/>
        <link dest="2f2adbfc" destField="participants" source="4cb6a09d" sourceField="participants"/>
        <link dest="2f2adbfc" destField="selectedSessions" source="39d161f1" sourceField="obj"/>
        <link dest="2f2adbfc" destField="summaryNode" source="500cc6c5" sourceField="section"/>
        <link dest="2f2adbfc" destField="breakdownNode" source="6d2fd73461774ca5" sourceField="section"/>
        <link dest="2f2adbfc" destField="aggregateNode" source="523fab4720824204" sourceField="section"/>
        <link dest="7d68545c" destField="project" source="fb2027c" sourceField="obj"/>
        <link dest="7d68545c" destField="sessions" source="39d161f1" sourceField="obj"/>
        <link dest="a2060a772d2048c1" destField="project" source="fb2027c" sourceField="obj"/>
        <link dest="a2060a772d2048c1" destField="sessions" source="39d161f1" sourceField="obj"/>
        <link dest="6dfac37ee1204f60" destField="project" source="a2060a772d2048c1" sourceField="project"/>
        <link dest="6dfac37ee1204f60" destField="results" source="a2060a772d2048c1" sourceField="results"/>
        <link dest="7df461c2" destField="project" source="7d68545c" sourceField="project"/>
        <link dest="7df461c2" destField="results" source="7d68545c" sourceField="results"/>
        <link dest="7d68545c" destField="parameters" source="6df4d2f7" sourceField="parameters"/>
        <link dest="a2060a772d2048c1" destField="parameters" source="6df4d2f7" sourceField="parameters"/>
        <link dest="ede1e2d" destField="table" source="7df461c2" sourceField="table"/>
        <link dest="83f39abfcfdf414d" destField="table" source="6dfac37ee1204f60" sourceField="table"/>
        <link dest="ede1e2d" destField="parent" source="6d2fd73461774ca5" sourceField="parent"/>
        <link dest="83f39abfcfdf414d" destField="parent" source="ede1e2d" sourceField="parent"/>
        <extensions>
            <opqry:nodewizard type="ca.phon.app.opgraph.analysis.AnalysisWizardExtension">
                <opqry:info format="html" title="Phone Inventory">
                    <opqry:message/>
                </opqry:info>
                <opqry:node ref="6df4d2f7" showAsStep="true">
                    <opqry:info format="html" title="Parameters">
                        <opqry:message/>
                    </opqry:info>
                </opqry:node>
            </opqry:nodewizard>
            <nes:settings type="ca.phon.app.opgraph.analysis.AnalysisOpGraphEditorModel"/>
        </extensions>
    </graph>
</opgraph>
